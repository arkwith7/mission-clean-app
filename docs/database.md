# üóÑÔ∏è Mission Clean Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ ÏÑ§Í≥Ñ

Ïù¥ Î¨∏ÏÑúÎäî 'ÏóêÏñ¥Ïª® Ï≤≠ÏÜå Ï§ëÍ∞ú ÌîåÎû´Ìèº'Ïùò ÏÑúÎπÑÏä§ ÏãúÎÇòÎ¶¨Ïò§Î•º Í∏∞Î∞òÏúºÎ°ú ÏÑ§Í≥ÑÎêú Îç∞Ïù¥ÌÑ∞Î≤†Ïù¥Ïä§ Ïä§ÌÇ§ÎßàÎ•º Ï†ïÏùòÌï©ÎãàÎã§. Í∞Å ÌÖåÏù¥Î∏îÏùÄ ÌäπÏ†ï Ïó≠Ìï†(Í≥†Í∞ù, Í∏∞ÏÇ¨, Í¥ÄÎ¶¨Ïûê)Ïùò ÌïµÏã¨ Í∏∞Îä•ÏùÑ ÏßÄÏõêÌïòÎèÑÎ°ù Íµ¨ÏÑ±ÎêòÏóàÏäµÎãàÎã§.

---

## üöÄ Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑ

ÏïàÏ†ïÏ†ÅÏù¥Í≥† Îπ†Î•∏ ÏÑúÎπÑÏä§ Îü∞Ïπ≠ÏùÑ ÏúÑÌï¥ Îã§ÏùåÍ≥º Í∞ôÏù¥ Íµ¨Ï∂ï Ïö∞ÏÑ†ÏàúÏúÑÎ•º Ï†úÏïàÌï©ÎãàÎã§. Í≥†Í∞ùÏù¥ ÏÑúÎπÑÏä§Î•º Í≤ΩÌóòÌïòÎäî ÌïµÏã¨ ÌîåÎ°úÏö∞Î•º ÏµúÏö∞ÏÑ†ÏúºÎ°ú Í∞úÎ∞úÌï©ÎãàÎã§.

### **1ÏàúÏúÑ: Í≥†Í∞ù ÌïµÏã¨ ÏÑúÎπÑÏä§ (MVP Core)**
- **Î™©Ìëú**: Í≥†Í∞ùÏù¥ ÌöåÏõêÍ∞ÄÏûÖÎ∂ÄÌÑ∞ ÏÑúÎπÑÏä§ ÏòàÏïΩ, Í≤∞Ï†úÍπåÏßÄ ÏôÑÎ£åÌï† Ïàò ÏûàÎäî ÌïµÏã¨ ÏÇ¨Ïù¥ÌÅ¥ÏùÑ Íµ¨ÌòÑÌï©ÎãàÎã§.
- **Í¥ÄÎ†® ÌÖåÏù¥Î∏î**: `users`, `customers`, `services`, `bookings`, `booking_services`, `payments`
- **Ï£ºÏöî Í∏∞Îä•**:
    - Ïù¥Î©îÏùº/ÏÜåÏÖú ÌöåÏõêÍ∞ÄÏûÖ Î∞è Î°úÍ∑∏Ïù∏
    - ÏÑúÎπÑÏä§ Î™©Î°ù Ï°∞Ìöå Î∞è ÏÑ†ÌÉù
    - ÏõêÌïòÎäî ÎÇ†Ïßú/ÏãúÍ∞ÑÏóê ÏÑúÎπÑÏä§ ÏòàÏïΩ
    - ÏòàÏïΩ Ï†ïÎ≥¥ Í∏∞Î∞ò Í≤∞Ï†ú ÏßÑÌñâ
    - ÎÇ¥ ÏòàÏïΩ ÎÇ¥Ïó≠ ÌôïÏù∏

### **2ÏàúÏúÑ: ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨ ÌïµÏã¨ Í∏∞Îä•**
- **Î™©Ìëú**: Î∞∞Ï†ïÎêú Í∏∞ÏÇ¨Í∞Ä ÏûëÏóÖÏùÑ ÌôïÏù∏ÌïòÍ≥† ÏàòÌñâÌïòÎ©∞, ÏôÑÎ£å Î≥¥Í≥†ÍπåÏßÄ Ìï† Ïàò ÏûàÎäî Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌï©ÎãàÎã§.
- **Í¥ÄÎ†® ÌÖåÏù¥Î∏î**: `technicians`, `service_reports` + (1ÏàúÏúÑ ÌÖåÏù¥Î∏î)
- **Ï£ºÏöî Í∏∞Îä•**:
    - Í∏∞ÏÇ¨ ÌîÑÎ°úÌïÑ Í¥ÄÎ¶¨
    - Ïã†Í∑ú ÏòàÏïΩ ÌôïÏù∏ Î∞è ÏàòÎùΩ
    - ÏûëÏóÖ ÏÉÅÌÉú Î≥ÄÍ≤Ω (Ïòà: Ïù¥ÎèôÏ§ë, ÏÑúÎπÑÏä§Ï§ë, ÏôÑÎ£å)
    - ÏÑúÎπÑÏä§ ÏôÑÎ£å ÌõÑ ÏûëÏóÖ Î≥¥Í≥†ÏÑú ÏûëÏÑ± Î∞è Ï†úÏ∂ú

### **3ÏàúÏúÑ: ÌîåÎû´Ìèº Í≥†ÎèÑÌôî Î∞è Ïö¥ÏòÅ**
- **Î™©Ìëú**: ÏÑúÎπÑÏä§Ïùò Ïã†Î¢∞ÎèÑÎ•º ÎÜíÏù¥Í≥† Ïö¥ÏòÅÏùÑ Ìö®Ïú®ÌôîÌïòÎäî Î∂ÄÍ∞Ä Í∏∞Îä•ÏùÑ Íµ¨ÌòÑÌï©ÎãàÎã§.
- **Í¥ÄÎ†® ÌÖåÏù¥Î∏î**: `reviews`, `settlements`, `notifications` + (1, 2ÏàúÏúÑ ÌÖåÏù¥Î∏î)
- **Ï£ºÏöî Í∏∞Îä•**:
    - Í≥†Í∞ùÏùò ÏÑúÎπÑÏä§ Î¶¨Î∑∞ ÏûëÏÑ± Î∞è Ï°∞Ìöå
    - Í¥ÄÎ¶¨ÏûêÏùò Í∏∞ÏÇ¨ Ï†ïÏÇ∞ Í¥ÄÎ¶¨
    - ÏòàÏïΩ ÏÉÅÌÉú Î≥ÄÍ≤Ω Îì± Ï£ºÏöî Ïù¥Î≤§Ìä∏Ïóê ÎåÄÌïú ÏïåÎ¶º Î∞úÏÜ°
    - Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú Î∞è ÌöåÏõê/ÏòàÏïΩ Í¥ÄÎ¶¨ Í∏∞Îä•

---

## 1. ÏÇ¨Ïö©Ïûê Î∞è Í∂åÌïú Í¥ÄÎ¶¨
**[ÏãúÎÇòÎ¶¨Ïò§ Ïó∞Í¥ÄÏÑ±]**
- **Í≥†Í∞ù**: ÌöåÏõêÍ∞ÄÏûÖ/Î°úÍ∑∏Ïù∏, ÏÜåÏÖú Î°úÍ∑∏Ïù∏ Í∏∞Îä•ÏùÑ ÏßÄÏõêÌï©ÎãàÎã§.
- **ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨**: Í¥ÄÎ¶¨ÏûêÏùò ÏäπÏù∏ÏùÑ ÌÜµÌï¥ Í∞ÄÏûÖÌïòÍ≥†, ÏûêÏã†Ïùò ÌîÑÎ°úÌïÑÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§.
- **Í¥ÄÎ¶¨Ïûê**: ÏãúÏä§ÌÖúÏùò Î™®Îì† ÏÇ¨Ïö©ÏûêÎ•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

### `users` (ÏÇ¨Ïö©Ïûê)
- Î™®Îì† ÏãúÏä§ÌÖú ÏÇ¨Ïö©Ïûê(Í≥†Í∞ù, Í∏∞ÏÇ¨, Í¥ÄÎ¶¨Ïûê)Ïùò Í∏∞Î≥∏ Ï†ïÎ≥¥Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.
- ÏÜåÏÖú Î°úÍ∑∏Ïù∏ÏùÑ Í≥†Î†§ÌïòÏó¨ `provider`ÏôÄ `social_id` Ïª¨ÎüºÏùÑ Ï∂îÍ∞ÄÌï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `user_id` | `INT` | PK, AUTO_INCREMENT | ÏÇ¨Ïö©Ïûê ÏãùÎ≥ÑÏûê |
| `email` | `VARCHAR(100)` | UNIQUE, NOT NULL | Ïù¥Î©îÏùº (Î°úÍ∑∏Ïù∏ ID) |
| `password_hash` | `VARCHAR(255)` | | ÎπÑÎ∞ÄÎ≤àÌò∏ Ìï¥Ïãú (Ïù¥Î©îÏùº Í∞ÄÏûÖ Ïãú) |
| `name` | `VARCHAR(50)` | NOT NULL | Ïù¥Î¶Ñ |
| `phone` | `VARCHAR(20)` | UNIQUE, NOT NULL | Ïó∞ÎùΩÏ≤ò |
| `role` | `ENUM('customer', 'technician', 'admin')` | NOT NULL | ÏÇ¨Ïö©Ïûê Ïó≠Ìï† |
| `status` | `ENUM('pending', 'active', 'inactive', 'suspended')` | DEFAULT 'pending' | Í≥ÑÏ†ï ÏÉÅÌÉú (Í∏∞ÏÇ¨ ÏäπÏù∏ ÎåÄÍ∏∞ Îì±) |
| `provider` | `ENUM('local', 'kakao', 'naver')` | DEFAULT 'local' | Í∞ÄÏûÖ Í≤ΩÎ°ú (ÏÜåÏÖú Î°úÍ∑∏Ïù∏) |
| `social_id` | `VARCHAR(255)` | | ÏÜåÏÖú Î°úÍ∑∏Ïù∏ ID |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |
| `last_login` | `TIMESTAMP` | | ÎßàÏßÄÎßâ Î°úÍ∑∏Ïù∏ |

### `customers` (Í≥†Í∞ù)
- Í≥†Í∞ùÏùò ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `customer_id` | `INT` | PK, AUTO_INCREMENT | Í≥†Í∞ù ÏãùÎ≥ÑÏûê |
| `user_id` | `INT` | NOT NULL, FK -> `users`.`user_id` | ÏÇ¨Ïö©Ïûê Ï∞∏Ï°∞ |
| `address` | `TEXT` | | Ï£ºÏÜå |
| `marketing_consent` | `BOOLEAN` | DEFAULT FALSE | ÎßàÏºÄÌåÖ ÎèôÏùò |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |

### `technicians` (ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨)
- ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨Ïùò ÌîÑÎ°úÌïÑ, Ï†ÑÎ¨∏ Î∂ÑÏïº Îì± ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Ï†ÄÏû•Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `technician_id` | `INT` | PK, AUTO_INCREMENT | Í∏∞ÏÇ¨ ÏãùÎ≥ÑÏûê |
| `user_id` | `INT` | NOT NULL, FK -> `users`.`user_id` | ÏÇ¨Ïö©Ïûê Ï∞∏Ï°∞ |
| `profile_image_url` | `VARCHAR(255)` | | ÌîÑÎ°úÌïÑ ÏÇ¨ÏßÑ URL |
| `introduction` | `TEXT` | | ÏûêÍ∏∞ÏÜåÍ∞ú |
| `expertise` | `JSON` | | Ï†ÑÎ¨∏ Î∂ÑÏïº (e.g., `["Î≤ΩÍ±∏Ïù¥", "Ïä§ÌÉ†Îìú"]`) |
| `service_area` | `JSON` | | ÏÑúÎπÑÏä§ Í∞ÄÎä• ÏßÄÏó≠ (e.g., `["ÏÑúÏö∏Ïãú Í∞ïÎÇ®Íµ¨", "Í≤ΩÍ∏∞ÎèÑ ÏÑ±ÎÇ®Ïãú"]`) |
| `career_years` | `INT` | | Í≤ΩÎ†• (ÎÖÑÏ∞®) |
| `rating_average` | `DECIMAL(3, 2)` | DEFAULT 0.00 | ÌèâÍ∑† Î≥ÑÏ†ê |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |

---

## 2. ÏóêÏñ¥Ïª® Ï†úÌíà Í¥ÄÎ¶¨

### ac_brands (ÏóêÏñ¥Ïª® Î∏åÎûúÎìú)
| Ïª¨ÎüºÎ™Ö        | ÌÉÄÏûÖ            | Ï†úÏïΩÏ°∞Í±¥                 | ÏÑ§Î™Ö               |
|---------------|-----------------|--------------------------|--------------------|
| brand_id      | INT             | PK, AUTO_INCREMENT       | Î∏åÎûúÎìú ÏãùÎ≥ÑÏûê      |
| brand_name    | VARCHAR(50)     | NOT NULL                 | Î∏åÎûúÎìúÎ™Ö           |
| brand_name_en | VARCHAR(50)     |                          | Î∏åÎûúÎìúÎ™Ö(ÏòÅÎ¨∏)     |
| logo_url      | VARCHAR(255)    |                          | Î°úÍ≥† URL           |
| website_url   | VARCHAR(255)    |                          | ÏõπÏÇ¨Ïù¥Ìä∏ URL       |
| support_phone | VARCHAR(20)     |                          | Í≥†Í∞ùÏßÄÏõê Ïó∞ÎùΩÏ≤ò    |
| is_active     | BOOLEAN         | DEFAULT TRUE             | ÌôúÏÑ± ÏÉÅÌÉú         |
| created_at    | TIMESTAMP       | DEFAULT CURRENT_TIMESTAMP| ÏÉùÏÑ±ÏùºÏãú          |

### ac_models (ÏóêÏñ¥Ïª® Î™®Îç∏)
| Ïª¨ÎüºÎ™Ö            | ÌÉÄÏûÖ                                   | Ï†úÏïΩÏ°∞Í±¥                                         | ÏÑ§Î™Ö                    |
|-------------------|----------------------------------------|--------------------------------------------------|-------------------------|
| model_id          | INT                                    | PK, AUTO_INCREMENT                               | Î™®Îç∏ ÏãùÎ≥ÑÏûê             |
| brand_id          | INT                                    | NOT NULL, FK -> ac_brands.brand_id               | Î∏åÎûúÎìú Ï∞∏Ï°∞             |
| model_name        | VARCHAR(100)                           | NOT NULL                                         | Î™®Îç∏Î™Ö                  |
| model_code        | VARCHAR(50)                            |                                                  | Î™®Îç∏ ÏΩîÎìú               |
| type              | ENUM('wall','stand','ceiling','window','portable')| NOT NULL                               | ÏóêÏñ¥Ïª® ÌòïÌÉú             |
| cooling_capacity  | DECIMAL(5,2)                           |                                                  | ÎÉâÎ∞© Ïö©Îüâ (BTU/h)       |
| energy_rating     | ENUM('1','2','3','4','5')             |                                                  | ÏóêÎÑàÏßÄ Îì±Í∏â             |
| refrigerant_type  | VARCHAR(20)                            |                                                  | ÎÉâÎß§ Ï¢ÖÎ•ò               |
| filter_type       | VARCHAR(100)                           |                                                  | ÌïÑÌÑ∞ Ï¢ÖÎ•ò               |
| inverter_type     | ENUM('inverter','fixed')              | DEFAULT 'inverter'                              | Ïù∏Î≤ÑÌÑ∞ ÌÉÄÏûÖ             |
| release_year      | YEAR                                   |                                                  | Ï∂úÏãú Ïó∞ÎèÑ               |
| manual_url        | VARCHAR(255)                           |                                                  | Îß§Îâ¥Ïñº URL              |
| image_url         | VARCHAR(255)                           |                                                  | Ïù¥ÎØ∏ÏßÄ URL              |
| cleaning_notes    | TEXT                                   |                                                  | Ï≤≠ÏÜå Ï£ºÏùòÏÇ¨Ìï≠           |
| is_active         | BOOLEAN                                | DEFAULT TRUE                                     | ÌôúÏÑ± ÏÉÅÌÉú              |
| created_at        | TIMESTAMP                              | DEFAULT CURRENT_TIMESTAMP                        | ÏÉùÏÑ±ÏùºÏãú               |

### customer_aircons (Í≥†Í∞ù ÏóêÏñ¥Ïª® Ï†ïÎ≥¥)
| Ïª¨ÎüºÎ™Ö              | ÌÉÄÏûÖ                           | Ï†úÏïΩÏ°∞Í±¥                                    | ÏÑ§Î™Ö              |
|---------------------|--------------------------------|---------------------------------------------|-------------------|
| aircon_id           | INT                            | PK, AUTO_INCREMENT                          | Í≥†Í∞ù ÏóêÏñ¥Ïª® ÏãùÎ≥ÑÏûê|
| customer_id         | INT                            | NOT NULL, FK -> customers.customer_id       | Í≥†Í∞ù Ï∞∏Ï°∞         |
| model_id            | INT                            | FK -> ac_models.model_id                    | Î™®Îç∏ Ï∞∏Ï°∞         |
| installation_date   | DATE                           |                                             | ÏÑ§Ïπò ÎÇ†Ïßú         |
| room_location       | VARCHAR(50)                    |                                             | ÏÑ§Ïπò ÏúÑÏπò         |
| usage_frequency     | ENUM('daily','weekly','seasonal')|                                          | ÏÇ¨Ïö© ÎπàÎèÑ         |
| last_self_cleaning  | DATE                           |                                             | ÎßàÏßÄÎßâ ÏûêÍ∞Ä Ï≤≠ÏÜå  |
| notes               | TEXT                           |                                             | ÎπÑÍ≥†              |
| is_active           | BOOLEAN                        | DEFAULT TRUE                                | ÌôúÏÑ± ÏÉÅÌÉú         |
| created_at          | TIMESTAMP                      | DEFAULT CURRENT_TIMESTAMP                   | ÏÉùÏÑ±ÏùºÏãú         |

---
## 3. ÏÑúÎπÑÏä§ Î∞è ÏòàÏïΩ Í¥ÄÎ¶¨
**[ÏãúÎÇòÎ¶¨Ïò§ Ïó∞Í¥ÄÏÑ±]**
- **Í≥†Í∞ù**: ÏÑúÎπÑÏä§ Ï¢ÖÎ•òÎ•º Î≥¥Í≥† ÏÑ†ÌÉùÌïòÎ©∞, ÏõêÌïòÎäî ÎÇ†ÏßúÏôÄ Ï£ºÏÜåÎ°ú ÏòàÏïΩÏùÑ Ïã†Ï≤≠Ìï©ÎãàÎã§. ÏûêÏã†Ïùò ÏòàÏïΩ ÏÉÅÌÉúÎ•º Ïã§ÏãúÍ∞ÑÏúºÎ°ú ÌôïÏù∏ÌïòÍ≥† Î≥ÄÍ≤Ω/Ï∑®ÏÜåÌï† Ïàò ÏûàÏäµÎãàÎã§.
- **ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨**: Î∞∞Ï†ïÎêú ÏòàÏïΩÏùÑ ÌôïÏù∏ÌïòÍ≥†, Í≥†Í∞ù Ï†ïÎ≥¥ÏôÄ ÏöîÏ≤≠ÏÇ¨Ìï≠ÏùÑ ÌååÏïÖÌï©ÎãàÎã§.
- **Í¥ÄÎ¶¨Ïûê**: Î™®Îì† ÏòàÏïΩ ÌòÑÌô©ÏùÑ Î™®ÎãàÌÑ∞ÎßÅÌïòÍ≥†, ÌïÑÏöîÏãú ÏàòÎèôÏúºÎ°ú ÏòàÏïΩÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

### `services` (ÏÑúÎπÑÏä§)
- Ï†úÍ≥µÌïòÎäî ÏÑúÎπÑÏä§Ïùò Ï¢ÖÎ•òÏôÄ Í∞ÄÍ≤© Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `service_id` | `INT` | PK, AUTO_INCREMENT | ÏÑúÎπÑÏä§ ÏãùÎ≥ÑÏûê |
| `service_name` | `VARCHAR(100)` | NOT NULL | ÏÑúÎπÑÏä§Î™Ö (e.g., "Î≤ΩÍ±∏Ïù¥ ÏóêÏñ¥Ïª® Í∏∞Î≥∏ ÏÑ∏Ï≤ô") |
| `description` | `TEXT` | | ÏÉÅÏÑ∏ ÏÑ§Î™Ö |
| `price` | `DECIMAL(10, 2)` | NOT NULL | Í∏∞Î≥∏ Í∞ÄÍ≤© |
| `duration_minutes` | `INT` | | ÏòàÏÉÅ ÏÜåÏöî ÏãúÍ∞Ñ (Î∂Ñ) |
| `is_active` | `BOOLEAN` | DEFAULT TRUE | ÌôúÏÑ± ÏÉÅÌÉú |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |

### `bookings` (ÏòàÏïΩ)
- Í≥†Í∞ùÏùò ÏÑúÎπÑÏä§ ÏòàÏïΩ Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `booking_id` | `INT` | PK, AUTO_INCREMENT | ÏòàÏïΩ ÏãùÎ≥ÑÏûê |
| `customer_id` | `INT` | NOT NULL, FK -> `customers`.`customer_id` | Í≥†Í∞ù Ï∞∏Ï°∞ |
| `technician_id` | `INT` | FK -> `technicians`.`technician_id` | Î∞∞Ï†ïÎêú Í∏∞ÏÇ¨ Ï∞∏Ï°∞ |
| `service_datetime` | `TIMESTAMP` | NOT NULL | ÏÑúÎπÑÏä§ Ìù¨Îßù/ÏòàÏ†ï ÏùºÏãú |
| `status` | `ENUM('pending', 'confirmed', 'technician_assigned', 'on_the_way', 'in_progress', 'completed', 'cancelled')` | DEFAULT 'pending' | ÏòàÏïΩ ÏÉÅÌÉú |
| `address` | `TEXT` | NOT NULL | ÏÑúÎπÑÏä§ Ï£ºÏÜå |
| `special_requests` | `TEXT` | | ÌäπÎ≥Ñ ÏöîÏ≤≠ÏÇ¨Ìï≠ |
| `total_price` | `DECIMAL(10, 2)` | | ÏµúÏ¢Ö Í≤∞Ï†ú Í∏àÏï° |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |

### `booking_services` (ÏòàÏïΩ-ÏÑúÎπÑÏä§ ÎÇ¥Ïó≠)
- Ìïú ÏòàÏïΩÏóê Ïó¨Îü¨ ÏÑúÎπÑÏä§Í∞Ä Ìè¨Ìï®Îê† Í≤ΩÏö∞Î•º ÎåÄÎπÑÌïú Ï§ëÍ∞Ñ ÌÖåÏù¥Î∏îÏûÖÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `booking_service_id` | `INT` | PK, AUTO_INCREMENT | ÏãùÎ≥ÑÏûê |
| `booking_id` | `INT` | NOT NULL, FK -> `bookings`.`booking_id` | ÏòàÏïΩ Ï∞∏Ï°∞ |
| `service_id` | `INT` | NOT NULL, FK -> `services`.`service_id` | ÏÑúÎπÑÏä§ Ï∞∏Ï°∞ |
| `quantity` | `INT` | NOT NULL, DEFAULT 1 | ÏàòÎüâ |
| `price_at_booking` | `DECIMAL(10, 2)` | NOT NULL | ÏòàÏïΩ ÏãúÏ†êÏùò Îã®Í∞Ä |

---

## 4. Í≤∞Ï†ú Î∞è Ï†ïÏÇ∞ Í¥ÄÎ¶¨
**[ÏãúÎÇòÎ¶¨Ïò§ Ïó∞Í¥ÄÏÑ±]**
- **Í≥†Í∞ù**: ÏòàÏïΩ Ïãú Îì±Î°ùÎêú Í≤∞Ï†úÏàòÎã®ÏúºÎ°ú Í∞ÑÌé∏ÌïòÍ≤å ÏÑ†Í≤∞Ï†úÌï©ÎãàÎã§.
- **ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨**: ÏôÑÎ£åÌïú ÏûëÏóÖÏóê ÎåÄÌïú ÏàòÏùµÍ≥º Ï†ïÏÇ∞ ÎÇ¥Ïó≠ÏùÑ ÌôïÏù∏Ìï©ÎãàÎã§.
- **Í¥ÄÎ¶¨Ïûê**: Ï†ÑÏ≤¥ Îß§Ï∂úÍ≥º ÏàòÏàòÎ£åÎ•º Í¥ÄÎ¶¨ÌïòÍ≥†, Í∏∞ÏÇ¨Î≥Ñ Ï†ïÏÇ∞ÏùÑ Ïã§ÌñâÌï©ÎãàÎã§.

### `payments` (Í≤∞Ï†ú)
- ÏòàÏïΩÏóê ÎåÄÌïú Í≤∞Ï†ú Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `payment_id` | `INT` | PK, AUTO_INCREMENT | Í≤∞Ï†ú ÏãùÎ≥ÑÏûê |
| `booking_id` | `INT` | NOT NULL, FK -> `bookings`.`booking_id` | ÏòàÏïΩ Ï∞∏Ï°∞ |
| `payment_method` | `VARCHAR(50)` | | Í≤∞Ï†ú ÏàòÎã® (e.g., "Ïã†Ïö©Ïπ¥Îìú") |
| `amount` | `DECIMAL(10, 2)` | NOT NULL | Í≤∞Ï†ú Í∏àÏï° |
| `status` | `ENUM('pending', 'completed', 'failed', 'refunded')` | DEFAULT 'pending' | Í≤∞Ï†ú ÏÉÅÌÉú |
| `transaction_id` | `VARCHAR(255)` | | Ïô∏Î∂Ä Í≤∞Ï†úÏÇ¨ Í±∞Îûò ID |
| `paid_at` | `TIMESTAMP` | | Í≤∞Ï†ú ÏôÑÎ£å ÏùºÏãú |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |

### `settlements` (Ï†ïÏÇ∞)
- ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨Ïóê ÎåÄÌïú Ï†ïÏÇ∞ ÎÇ¥Ïó≠ÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `settlement_id` | `INT` | PK, AUTO_INCREMENT | Ï†ïÏÇ∞ ÏãùÎ≥ÑÏûê |
| `technician_id` | `INT` | NOT NULL, FK -> `technicians`.`technician_id` | Í∏∞ÏÇ¨ Ï∞∏Ï°∞ |
| `settlement_period` | `VARCHAR(50)` | NOT NULL | Ï†ïÏÇ∞ Í∏∞Í∞Ñ (e.g., "2024-05") |
| `total_amount` | `DECIMAL(10, 2)` | NOT NULL | Ï¥ù ÏÑúÎπÑÏä§ Í∏àÏï° |
| `commission_fee` | `DECIMAL(10, 2)` | NOT NULL | ÌîåÎû´Ìèº ÏàòÏàòÎ£å |
| `final_amount` | `DECIMAL(10, 2)` | NOT NULL | ÏµúÏ¢Ö Ï†ïÏÇ∞Ïï° |
| `status` | `ENUM('pending', 'completed')` | DEFAULT 'pending' | Ï†ïÏÇ∞ ÏÉÅÌÉú |
| `completed_at` | `TIMESTAMP` | | Ï†ïÏÇ∞ ÏôÑÎ£å ÏùºÏãú |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |

---

## 5. ÏÑúÎπÑÏä§ Í∏∞Î°ù Î∞è Î¶¨Î∑∞ Í¥ÄÎ¶¨
**[ÏãúÎÇòÎ¶¨Ïò§ Ïó∞Í¥ÄÏÑ±]**
- **Í≥†Í∞ù**: ÏôÑÎ£åÎêú ÏÑúÎπÑÏä§Ïóê ÎåÄÌïú ÌõÑÍ∏∞Î•º ÏûëÏÑ±ÌïòÍ≥†, Îã§Î•∏ Í≥†Í∞ùÏùò ÌõÑÍ∏∞Î•º Ï°∞ÌöåÌïòÏó¨ Í∏∞ÏÇ¨ ÏÑ†ÌÉùÏóê Ï∞∏Í≥†Ìï©ÎãàÎã§.
- **ÏÑúÎπÑÏä§ Í∏∞ÏÇ¨**: ÏÑúÎπÑÏä§ ÏôÑÎ£å ÌõÑ, ÏûëÏóÖ Ï†Ñ/ÌõÑ ÏÇ¨ÏßÑÏùÑ Ìè¨Ìï®Ìïú ÏûëÏóÖ Î≥¥Í≥†ÏÑúÎ•º ÏûëÏÑ±ÌïòÏó¨ Í≥†Í∞ù Ïã†Î¢∞ÎèÑÎ•º ÎÜíÏûÖÎãàÎã§.
- **Í¥ÄÎ¶¨Ïûê**: ÏûëÏÑ±Îêú ÌõÑÍ∏∞Î•º Î™®ÎãàÌÑ∞ÎßÅÌïòÍ≥†, Î∂ÄÏ†ÅÏ†àÌïú ÏΩòÌÖêÏ∏†Î•º Í¥ÄÎ¶¨Ìï©ÎãàÎã§.

### `service_reports` (ÏûëÏóÖ Î≥¥Í≥†ÏÑú)
- ÏÑúÎπÑÏä§ ÏôÑÎ£å ÌõÑ Í∏∞ÏÇ¨Í∞Ä ÏûëÏÑ±ÌïòÎäî Î≥¥Í≥†ÏÑúÏûÖÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `report_id` | `INT` | PK, AUTO_INCREMENT | Î≥¥Í≥†ÏÑú ÏãùÎ≥ÑÏûê |
| `booking_id` | `INT` | NOT NULL, FK -> `bookings`.`booking_id` | ÏòàÏïΩ Ï∞∏Ï°∞ |
| `summary` | `TEXT` | | ÏûëÏóÖ ÏöîÏïΩ |
| `before_image_urls` | `JSON` | | ÏûëÏóÖ Ï†Ñ ÏÇ¨ÏßÑ URL Î™©Î°ù |
| `after_image_urls` | `JSON` | | ÏûëÏóÖ ÌõÑ ÏÇ¨ÏßÑ URL Î™©Î°ù |
| `recommendations` | `TEXT` | | Ï∂îÍ∞Ä Í∂åÏû• ÏÇ¨Ìï≠ |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |

### `reviews` (Î¶¨Î∑∞)
- Í≥†Í∞ùÏù¥ ÏÑúÎπÑÏä§Ïóê ÎåÄÌï¥ ÏûëÏÑ±ÌïòÎäî Î¶¨Î∑∞ Î∞è ÌèâÏ†êÏûÖÎãàÎã§.

| Ïª¨ÎüºÎ™Ö | ÌÉÄÏûÖ | Ï†úÏïΩÏ°∞Í±¥ | ÏÑ§Î™Ö |
| --- | --- | --- | --- |
| `review_id` | `INT` | PK, AUTO_INCREMENT | Î¶¨Î∑∞ ÏãùÎ≥ÑÏûê |
| `booking_id` | `INT` | NOT NULL, FK -> `bookings`.`booking_id` | ÏòàÏïΩ Ï∞∏Ï°∞ |
| `customer_id` | `INT` | NOT NULL, FK -> `customers`.`customer_id` | Í≥†Í∞ù Ï∞∏Ï°∞ |
| `technician_id` | `INT` | NOT NULL, FK -> `technicians`.`technician_id` | Í∏∞ÏÇ¨ Ï∞∏Ï°∞ |
| `rating` | `INT` | NOT NULL, CHECK (`rating` BETWEEN 1 AND 5) | ÌèâÏ†ê (1~5) |
| `comment` | `TEXT` | | Î¶¨Î∑∞ ÎÇ¥Ïö© |
| `image_urls` | `JSON` | | Ï≤®Î∂Ä ÏÇ¨ÏßÑ URL Î™©Î°ù |
| `is_public` | `BOOLEAN` | DEFAULT TRUE | Í≥µÍ∞ú Ïó¨Î∂Ä |
| `admin_response` | `TEXT` | | Í¥ÄÎ¶¨Ïûê ÎãµÎ≥Ä |
| `created_at` | `TIMESTAMP` | DEFAULT CURRENT_TIMESTAMP | ÏÉùÏÑ±ÏùºÏãú |
| `updated_at` | `TIMESTAMP` | ON UPDATE CURRENT_TIMESTAMP | ÏàòÏ†ïÏùºÏãú |

---

## 6. ÎßàÏºÄÌåÖ Î∞è Î∂ÑÏÑù

### marketing_campaigns (ÎßàÏºÄÌåÖ Ï∫†ÌéòÏù∏)
| Ïª¨ÎüºÎ™Ö           | ÌÉÄÏûÖ                            | Ï†úÏïΩÏ°∞Í±¥                                              | ÏÑ§Î™Ö                |
|------------------|---------------------------------|-------------------------------------------------------|---------------------|
| campaign_id      | INT                             | PK, AUTO_INCREMENT                                    | Ï∫†ÌéòÏù∏ ÏãùÎ≥ÑÏûê       |
| campaign_name    | VARCHAR(200)                    | NOT NULL                                              | Ï∫†ÌéòÏù∏ Ïù¥Î¶Ñ         |
| campaign_type    | ENUM('sms','email','kakao','push')| NOT NULL                                           | Ï∫†ÌéòÏù∏ Ïú†Ìòï         |
| target_segment   | JSON                            |                                                       | ÌÉÄÍ≤ü Ï°∞Í±¥ (JSON)    |
| message_template | TEXT                            | NOT NULL                                              | Î©îÏãúÏßÄ ÌÖúÌîåÎ¶ø       |
| discount_code    | VARCHAR(50)                     |                                                       | Ìï†Ïù∏ ÏΩîÎìú           |
| discount_rate    | DECIMAL(5,2)                    |                                                       | Ìï†Ïù∏Ïú® (%)          |
| start_date       | DATE                            |                                                       | ÏãúÏûëÏùº              |
| end_date         | DATE                            |                                                       | Ï¢ÖÎ£åÏùº              |
| status           | ENUM('draft','active','paused','completed')| DEFAULT 'draft'                             | ÏÉÅÌÉú                |
| sent_count       | INT                             | DEFAULT 0                                            | Î∞úÏÜ° ÌöüÏàò           |
| success_count    | INT                             | DEFAULT 0                                            | ÏÑ±Í≥µ ÌöüÏàò           |
| conversion_count | INT                             | DEFAULT 0                                            | Ï†ÑÌôò ÌöüÏàò           |
| created_at       | TIMESTAMP                       | DEFAULT CURRENT_TIMESTAMP                            | ÏÉùÏÑ±ÏùºÏãú           |
| updated_at       | TIMESTAMP                       | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP| ÏàòÏ†ïÏùºÏãú           |

### customer_segments (Í≥†Í∞ù ÏÑ∏Í∑∏Î®ºÌä∏)
| Ïª¨ÎüºÎ™Ö              | ÌÉÄÏûÖ                            | Ï†úÏïΩÏ°∞Í±¥                                      | ÏÑ§Î™Ö              |
|---------------------|---------------------------------|-----------------------------------------------|-------------------|
| segment_id          | INT                             | PK, AUTO_INCREMENT                            | ÏÑ∏Í∑∏Î®ºÌä∏ ÏãùÎ≥ÑÏûê  |
| customer_id         | INT                             | NOT NULL, FK -> customers.customer_id         | Í≥†Í∞ù Ï∞∏Ï°∞        |
| segment_type        | ENUM('new','regular','vip','inactive','lost')|                                          | ÏÑ∏Í∑∏Î®ºÌä∏ Ïú†Ìòï    |
| last_service_date   | DATE                            |                                              | ÎßàÏßÄÎßâ ÏÑúÎπÑÏä§ ÏùºÏûê|
| total_bookings      | INT                             | DEFAULT 0                                    | Ï¥ù ÏòàÏïΩ ÌöüÏàò     |
| total_spent         | DECIMAL(10,2)                   | DEFAULT 0                                    | Ï¥ù ÏßÄÏ∂ú Í∏àÏï°     |
| avg_rating          | DECIMAL(3,2)                    |                                              | ÌèâÍ∑† ÌèâÏ†ê        |
| preferred_service_time| VARCHAR(20)                  |                                              | ÏÑ†Ìò∏ ÏÑúÎπÑÏä§ ÏãúÍ∞Ñ|
| marketing_responsiveness| ENUM('high','medium','low') |                                          | ÎßàÏºÄÌåÖ Î∞òÏùëÎèÑ    |
| updated_at          | TIMESTAMP                       | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP| ÏàòÏ†ïÏùºÏãú    |

### notifications (ÏïåÎ¶º Í¥ÄÎ¶¨)
| Ïª¨ÎüºÎ™Ö             | ÌÉÄÏûÖ                            | Ï†úÏïΩÏ°∞Í±¥                                      | ÏÑ§Î™Ö              |
|--------------------|---------------------------------|-----------------------------------------------|-------------------|
| notification_id    | INT                             | PK, AUTO_INCREMENT                            | ÏïåÎ¶º ÏãùÎ≥ÑÏûê     |
| customer_id        | INT                             | FK -> customers.customer_id                   | Í≥†Í∞ù Ï∞∏Ï°∞       |
| notification_type  | ENUM('booking_reminder','service_complete','marketing','maintenance_due')| | ÏïåÎ¶º Ïú†Ìòï  |
| message            | TEXT                            | NOT NULL                                     | Î©îÏãúÏßÄ          |
| send_method        | ENUM('sms','email','kakao','push')|                                           | Ï†ÑÏÜ° ÏàòÎã®       |
| scheduled_time     | TIMESTAMP                       |                                              | ÏòàÏïΩ Î∞úÏÜ° ÏãúÍ∞Å  |
| sent_time          | TIMESTAMP                       | NULL                                        | Î∞úÏÜ° ÏôÑÎ£å ÏãúÍ∞Å  |
| status             | ENUM('pending','sent','failed')| DEFAULT 'pending'                            | ÏÉÅÌÉú           |
| created_at         | TIMESTAMP                       | DEFAULT CURRENT_TIMESTAMP                    | ÏÉùÏÑ±ÏùºÏãú       |

---
## 7. ÏãúÏä§ÌÖú ÏÑ§Ï†ï

### system_settings (ÏãúÏä§ÌÖú ÏÑ§Ï†ï)
| Ïª¨ÎüºÎ™Ö           | ÌÉÄÏûÖ                              | Ï†úÏïΩÏ°∞Í±¥                                        | ÏÑ§Î™Ö             |
|------------------|-----------------------------------|-------------------------------------------------|------------------|
| setting_id       | INT                               | PK, AUTO_INCREMENT                              | ÏÑ§Ï†ï ÏãùÎ≥ÑÏûê      |
| setting_key      | VARCHAR(100)                      | UNIQUE, NOT NULL                                 | ÏÑ§Ï†ï ÌÇ§          |
| setting_value    | TEXT                              |                                                 | ÏÑ§Ï†ï Í∞í          |
| setting_type     | ENUM('string','number','boolean','json')| DEFAULT 'string'                         | Í∞í Ïú†Ìòï          |
| description      | TEXT                              |                                                 | ÏÑ§Î™Ö             |
| is_public        | BOOLEAN                           | DEFAULT FALSE                                   | Í≥µÍ∞ú Ïó¨Î∂Ä        |
| updated_by       | INT                               | FK -> users.user_id                             | ÏàòÏ†ïÏûê          |
| updated_at       | TIMESTAMP                         | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP| ÏàòÏ†ïÏùºÏãú    |

### audit_logs (Í∞êÏÇ¨ Î°úÍ∑∏)
| Ïª¨ÎüºÎ™Ö         | ÌÉÄÏûÖ                        | Ï†úÏïΩÏ°∞Í±¥                                            | ÏÑ§Î™Ö              |
|----------------|-----------------------------|-----------------------------------------------------|-------------------|
| log_id         | INT                         | PK, AUTO_INCREMENT                                  | Î°úÍ∑∏ ÏãùÎ≥ÑÏûê      |
| user_id        | INT                         | FK -> users.user_id                                 | ÏÇ¨Ïö©Ïûê Ï∞∏Ï°∞      |
| action         | VARCHAR(100)                | NOT NULL                                            | ÏûëÏóÖ              |
| table_name     | VARCHAR(50)                 |                                                     | ÌÖåÏù¥Î∏îÎ™Ö          |
| record_id      | INT                         |                                                     | Î†àÏΩîÎìú ÏãùÎ≥ÑÏûê     |
| old_values     | JSON                        |                                                     | Ïù¥Ï†Ñ Í∞í           |
| new_values     | JSON                        |                                                     | ÏÉàÎ°úÏö¥ Í∞í         |
| ip_address     | VARCHAR(45)                 |                                                     | IP Ï£ºÏÜå           |
| user_agent     | TEXT                        |                                                     | ÏÇ¨Ïö©Ïûê ÏóêÏù¥Ï†ÑÌä∏   |
| created_at     | TIMESTAMP                   | DEFAULT CURRENT_TIMESTAMP                            | ÏÉùÏÑ±ÏùºÏãú         |

---
## üìä Ï£ºÏöî Í∏∞Îä•Î≥Ñ ÌôúÏö© Î∞©Ïïà

### üéØ ÌÉÄÍ≤ü ÎßàÏºÄÌåÖ ÌôúÏö©
```sql
-- ÏòàÏãú: 6Í∞úÏõî Ïù¥ÏÉÅ ÏÑúÎπÑÏä§ Î∞õÏßÄ ÏïäÏùÄ VIP Í≥†Í∞ù Ï°∞Ìöå
SELECT c.*, cs.last_service_date 
FROM customers c 
JOIN customer_segments cs ON c.customer_id = cs.customer_id 
WHERE cs.segment_type = 'vip' 
  AND cs.last_service_date < DATE_SUB(NOW(), INTERVAL 6 MONTH);
```

### üìà Í¥ÄÎ¶¨Ïûê ÎåÄÏãúÎ≥¥Îìú Îç∞Ïù¥ÌÑ∞
```sql
-- ÏõîÎ≥Ñ Îß§Ï∂ú ÌÜµÍ≥Ñ
SELECT 
  DATE_FORMAT(booking_date, '%Y-%m') AS month,
  COUNT(*) AS total_bookings,
  SUM(total_price) AS total_revenue
FROM bookings 
WHERE status = 'completed' 
GROUP BY month 
ORDER BY month DESC;
```
